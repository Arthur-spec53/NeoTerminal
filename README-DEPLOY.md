# 🚀 XBoard 前端部署包

> **一键部署脚本 + 完整文档 = 小白也能轻松部署！**

---

## 📦 包含文件

```
xboard-frontend/
├── dist/                      # 构建产物目录 (~420KB)
├── deploy.sh                  # Linux 一键部署脚本
├── deploy.ps1                 # Windows 一键部署脚本
├── QUICK_START.md             # 快速开始指南 ⭐ 推荐先看这个
├── DEPLOYMENT.md              # 详细部署文档
├── BUILD_INFO.txt             # 构建信息
├── README-DEPLOY.md           # 本文件
└── xboard-frontend-dist.tar.gz # 压缩包 (~102KB)
```

---

## ⚡ 快速开始

### 🐧 Linux 用户

```bash
# 1. 赋予执行权限
chmod +x deploy.sh

# 2. 运行脚本
./deploy.sh

# 3. 按照提示操作即可！
```

### 🪟 Windows 用户

```powershell
# 1. 以管理员身份打开 PowerShell

# 2. 允许脚本执行
Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass

# 3. 运行脚本
.\deploy.ps1

# 4. 按照提示操作即可！
```

---

## 📚 文档说明

### 🌟 QUICK_START.md
**适合人群**: 所有用户，特别是小白用户  
**内容**: 
- 一键部署详细步骤
- 常见问题解答
- 故障排查指南
- **⭐ 推荐首先阅读！**

### 📖 DEPLOYMENT.md
**适合人群**: 需要深入了解或自定义配置的用户  
**内容**:
- Nginx 完整配置
- Apache 配置
- Docker 部署
- SSL 证书配置
- 性能优化
- 安全配置

### 📊 BUILD_INFO.txt
**适合人群**: 想了解构建细节的用户  
**内容**:
- 构建统计信息
- 文件大小和数量
- 技术栈信息
- 功能列表

---

## 🎯 部署方式对比

| 方式 | 难度 | 推荐指数 | 适用场景 |
|------|------|----------|----------|
| **一键脚本 (Linux/Nginx)** | ⭐ | ⭐⭐⭐⭐⭐ | 生产环境，推荐 |
| **一键脚本 (Windows/IIS)** | ⭐ | ⭐⭐⭐⭐ | Windows 服务器 |
| **Docker 部署** | ⭐⭐ | ⭐⭐⭐⭐ | 容器化环境 |
| **简单部署** | ⭐ | ⭐⭐⭐ | 测试环境 |
| **手动配置** | ⭐⭐⭐ | ⭐⭐ | 特殊需求 |

---

## ✨ 功能特点

### 🤖 一键部署脚本特性

✅ **智能检测**
- 自动检测操作系统
- 自动检测已安装工具
- 自动提示安装缺失组件

✅ **交互式配置**
- 友好的问答式配置
- 提供默认值，小白可直接回车
- 配置确认，防止误操作

✅ **安全可靠**
- 自动备份现有文件
- 支持回滚操作
- 详细的日志记录

✅ **多种模式**
- Nginx 自动配置
- Docker 容器化部署
- IIS 自动配置 (Windows)
- 简单文件复制模式

---

## 🔥 核心优势

### 对比手动部署

| 特性 | 手动部署 | 一键脚本 |
|------|----------|----------|
| 配置文件生成 | 需要手写 | ✅ 自动生成 |
| 权限设置 | 容易出错 | ✅ 自动处理 |
| 备份功能 | 需要手动 | ✅ 自动备份 |
| 错误处理 | 需要经验 | ✅ 智能提示 |
| 服务重启 | 需要记命令 | ✅ 自动重启 |
| 时间成本 | 30-60分钟 | ✅ 3-5分钟 |

---

## 🛠️ 部署脚本功能详解

### Linux 脚本 (deploy.sh)

#### 支持的系统
- ✅ Ubuntu 18.04+
- ✅ Debian 10+
- ✅ CentOS 7+
- ✅ RHEL 7+
- ✅ Fedora 30+

#### 主要功能
1. **Nginx 部署模式**
   - 自动安装 Nginx（如需要）
   - 生成完整的 Nginx 配置
   - 配置 API 反向代理
   - 配置 Gzip 压缩
   - 配置静态资源缓存
   - 配置安全头

2. **Docker 部署模式**
   - 自动安装 Docker（如需要）
   - 生成 Dockerfile
   - 生成 docker-compose.yml
   - 生成 Nginx 配置
   - 一键构建和启动

3. **简单部署模式**
   - 快速复制文件
   - 自动备份
   - 权限设置

4. **辅助功能**
   - 查看部署信息
   - 日志记录
   - 错误处理

---

### Windows 脚本 (deploy.ps1)

#### 支持的系统
- ✅ Windows Server 2016+
- ✅ Windows 10
- ✅ Windows 11

#### 主要功能
1. **IIS 部署模式**
   - 自动安装 IIS 功能
   - 生成 web.config
   - 配置 URL 重写
   - 配置 HTTP 压缩
   - 配置静态缓存
   - 创建应用程序池

2. **简单部署模式**
   - 快速复制文件
   - 自动备份

3. **辅助功能**
   - 查看部署信息
   - 日志记录
   - 权限检查

---

## 📋 部署前检查清单

### ✅ 必需条件
- [ ] 已构建项目 (`npm run build`)
- [ ] 存在 `dist` 目录
- [ ] `dist/index.html` 文件存在

### ✅ Linux 额外要求
- [ ] 具有 `sudo` 权限
- [ ] 能够访问互联网（如需安装软件）

### ✅ Windows 额外要求
- [ ] 管理员权限
- [ ] 能够访问互联网（如需安装 IIS）

---

## 🎬 部署流程

### 标准部署流程 (5步)

```
1. 准备工作
   └─> 构建项目 (npm run build)

2. 运行脚本
   └─> Linux: ./deploy.sh
   └─> Windows: .\deploy.ps1

3. 选择模式
   └─> Nginx/IIS/Docker/Simple

4. 配置参数
   └─> 域名、路径、端口等

5. 完成部署
   └─> 访问测试
```

### 平均耗时
- ⚡ 脚本部署: 3-5 分钟
- 🐢 手动部署: 30-60 分钟

---

## 🔍 部署后验证

### 基础验证
```bash
# 1. 访问首页
curl -I http://localhost

# 2. 检查 API 代理
curl http://localhost/api/v1/guest/comm/config

# 3. 检查静态资源
curl -I http://localhost/assets/index-[hash].js
```

### 功能验证
1. ✅ 页面正常加载
2. ✅ 登录功能可用
3. ✅ API 请求成功
4. ✅ 路由切换正常
5. ✅ 刷新不404

---

## 🆘 常见问题

### Q1: 脚本运行失败怎么办？
**A:** 
1. 检查 `deploy.log` 日志文件
2. 确认是否有执行权限
3. 确认是否有 sudo/管理员权限
4. 参考 QUICK_START.md 中的故障排查

### Q2: 如何回滚部署？
**A:**
脚本会自动备份旧文件到 `backups/` 目录，手动复制回去即可：
```bash
sudo cp -r backups/backup-20251101-080000/* /var/www/xboard/
```

### Q3: 可以自定义配置吗？
**A:**
可以！脚本生成的配置文件可以手动修改：
- Linux: `nginx-xboard.conf`
- Windows: `web.config`

### Q4: 如何更新部署？
**A:**
1. 重新构建: `npm run build`
2. 重新运行脚本: `./deploy.sh` 或 `.\deploy.ps1`
3. 选择相同的配置，脚本会自动备份并替换

---

## 📞 获取支持

### 📖 文档
- [快速开始](./QUICK_START.md) - 推荐首读
- [详细部署](./DEPLOYMENT.md) - 深入配置
- [构建信息](./BUILD_INFO.txt) - 技术细节

### 🔍 日志
- Linux: `./deploy.log`
- Windows: `.\deploy.log`

### 🐛 问题排查
1. 查看脚本日志
2. 查看 Web 服务器日志
   - Nginx: `/var/log/nginx/error.log`
   - IIS: `C:\inetpub\logs\LogFiles`
3. 查看浏览器控制台 (F12)

---

## 🎨 项目特色

### 黑客风格主题
🟢 **赛博朋克美学**
- Matrix 雨背景
- CRT 扫描线效果
- 霓虹绿色主题
- 终端风格交互

### 安全加固
🔒 **企业级安全**
- 代码混淆
- Token 加密
- CSP 策略
- API 签名
- XSS 防护

### 性能优化
⚡ **极致优化**
- 代码分割
- Tree Shaking
- Gzip 压缩 (75%)
- 懒加载
- 资源缓存

---

## 📊 性能指标

| 指标 | 数值 |
|------|------|
| **总大小 (原始)** | ~420 KB |
| **总大小 (压缩)** | ~102 KB |
| **压缩率** | 75% |
| **文件数量** | 50+ |
| **构建时间** | 5-10 秒 |
| **首屏加载** | < 1 秒 |

---

## 🎉 开始部署

准备好了吗？让我们开始吧！

### 三步快速部署

```bash
# Step 1: 赋予权限
chmod +x deploy.sh

# Step 2: 运行脚本
./deploy.sh

# Step 3: 按提示操作！
```

就是这么简单！ 🚀

---

## 📜 版本信息

- **版本**: 1.0.0
- **构建日期**: 2025-11-01
- **Vue**: 3.5.22
- **Vite**: 7.1.12
- **脚本版本**: 1.0.0

---

**感谢使用 XBoard！祝您部署顺利！** 🎊

